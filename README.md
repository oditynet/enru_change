# enru_change

Автоматическая смена раскладки,если вы вводите текст и забыли сменить русский на английский или наоборот.
Первым делом настроем X11, а точнее обработку клавиатуры:
```
sudo cat /proc/bus/input/devices | grep -A5 "keyboard"
sudo chmod a+r /dev/input/event*
```
* - заменить на ту,где ваша клавиатура живет.

Сборка:
```
gcc -o enru_change enru_change.c $(pkg-config --cflags --libs gtk+-3.0 appindicator3-0.1) -lX11 -lXtst -lpthread
```
Полная поддержка UTF8 , но пока смена раскладки жестко вшита (ctrl+shift), подедрживается только 2 языка (ru,en). 
 - Алгоритм анализа ситуации: была взята за основу книга Гарри Потера (англ язык) и какой-то порно шедевр (русский язык). Были сгенерированы все возможные комбинации из 2-уз букв. Сгенерированные конбинации удалялась ,если в книгах находились они в начале слов. Оставшееся было помещено в ru_impossible и en_impossible соответственно.
 - Уже реализована функция удаления введенной неверной комбинации, а вот ввод правильной комбинации, пока неверно работает,но в коде есть.


Result:
Первая строка - ъочу ввести эту строку
Вторая строка - как отработала программа
```
✘  odity@viva  ~  rfr ;t z vjue nfr jib,bnmcz yfxfd 'njn ntrcn
✘  odity@viva  ~  как же я мог так b,bnmcz чав этот текст
```

Да, не идеал, но работаем над алгоритмом
