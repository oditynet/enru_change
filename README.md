# enru_change

Автоматическая смена раскладки,если вы вводите текст и забыли сменить русский на английский или наоборот.
Первым делом настроем X11, а точнее обработку клавиатуры:

 1) https://norvig.com/mayzner.html скачивает N-грамм.
 2) Так как для русского языка я не нашел N-граммы, то будем обучать сами. Скачивайте порядка 20-30 книг на русском и на английском языках.
 3) генерируем частоты. У меня настроена программа и скрипт на на первые 5 символов (5-грамм) (Если лень, то с репозитории они лежат. xz -d ngram_stats_en.h.xz - чтобы распаковать)
```
python genru3.py book-ru/* > ngram_stats_ru.h
python genen3.py book-en/* > ngram_stats_en.h
```
 4) Сборка пакета: gcc enru_change.c -o enru_change $(pkg-config --cflags --libs gtk+-3.0 appindicator3-0.1) -lX11 -lXtst -lpthread

Реализовано:
1) смена раскладки en\ru
2) замена введеных неправильных символов
3) нажать правый Alt то следующее слово будет введено безавтозамены \ Если нажать Правый и левый Альт, то до отмены той же комбинацией автозамена отключается.

Result:
Первая строка - ъочу ввести эту строку
Вторая строка - как отработала программа
```
(Вводил)     Z хотел ...
(результат) я хотел написать этот текст с правильной раскладкой
```

Да, не идеал, но работаем над алгоритмом и обучением модели
